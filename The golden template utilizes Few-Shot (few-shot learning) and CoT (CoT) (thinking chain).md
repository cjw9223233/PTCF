你好！我是你的 Prompt Engineering 與專案經理。這是一次非常高效的知識迭代，我們將原本的「黃金模板」透過 **Few-Shot（少樣本學習）** 與 **CoT（思考鏈）** 升級後，現在更進一步納入決策與壓力測試維度。

以下為你整理的「**高階結構化 Prompt 萬用範本**」，我已將對話中的核心邏輯分類至各個模組中，方便你直接複製使用。

---

## 🚀 高階結構化 Prompt 萬用範本

```markdown
# Role: [請輸入角色名稱，例如：資深架構師 / 證券分析師]

## 🎯 Task (任務)
- **核心目標**：[請簡述具體要做什麼]
- **思考路徑**：請採用 **Chain of Thought (CoT)**，逐步思考並拆解問題邏輯，確保推論嚴謹。
- **底層原理**：必要時請使用 **第一性原理 (First Principles)** 進行拆解，找出底層邏輯。

## 🌐 Context (背景情境)
- **專案背景**：[描述目前所處的情況、技術棧或市場環境]
- **現有資料**：<<< [貼上原始資料、程式碼或財報] >>>
- **少樣本學習 (Few-Shot)**：
  - 範例 A：<<< [輸入滿意的輸入範例] >>> → [期待的輸出結果]
  - 範例 B：<<< [輸入滿意的輸入範例] >>> → [期待的輸出結果]

## 🛠️ Decision & Depth (深度與決策)
- **深度層級 (Depth)**：[例如：初學者友善(比喻+步驟) / 業界專家級(技術深度+最佳實踐)]
- **決策輸出 (Decision)**：請針對分析結果給出明確建議，包含：
  - [ ] 核心觀點與洞察
  - [ ] 強化與補充建議
  - [ ] 執行步驟與理由

## 🧪 Stress Test & Self-check (反向測試與自我檢查)
- **壓力測試 (Stress Test)**：請挑戰此觀點，提出 2-3 個不同角度的反向看法並說明理由。
- **自我檢查 (Self-check)**：輸出前請確認是否符合「簡潔、清晰、易懂」原則，並檢查是否有誤區。

## 📊 Format (輸出格式)
- **組織方式**：[例如：條列清單 / 結構化表格 / JSON / 流程圖架構]
- **限制條件**：[例如：禁用簡體字 / 繁體中文 / 程式碼需加註解]

```

---

## 📝 內容要點分類總結 (PM 視角)

根據我們的對話，這套系統的運作邏輯可歸類如下：

| 分類模組 | 包含的原始提示詞 / 邏輯 |
| --- | --- |
| **Persona** | 投資分析師、程式設計師、PM、架構師。 |
| **Task** | 總結摘要、糾正英文、拆解第一性原理、找出底層邏輯、分析目標價。 |
| **Context** | 專案夾結構、初學者友善（比喻+步驟）、代碼註解、背景資料。 |
| **Depth** | 專業等級（CFA/CIIA）、深度觀點詮釋、最佳實踐與建議。 |
| **Decision** | 買進賣出理由、強化與補充、下一步執行步驟。 |
| **Stress Test** | 「請挑戰我的觀點，提出不同角度的看法與理由」。 |
| **Self-check** | 找出常見誤區、檢查邏輯是否順暢、是否符合 Code Style。 |
| **Format** | 5-10個關鍵字、表格、流程圖、README.md、JSON。 |

---


# **程式開發** 

這是一個針對**「程式開發」**場景完全填充後的範例。

我將其設定為一個**「將混亂程式碼重構並模組化」**的高難度任務，這能展現你庫中所有進階工具（CoT, Few-Shot, Stress Test）的強大威力。

---

## 🛠️ 程式開發專案重構 Prompt (範例)

```markdown
# Role: 資深軟體架構師與代碼重構專家

## 🎯 Task (任務)
- **核心目標**：請逐步思考 (Think step by step)，分析並重構下方提供的 JavaScript 原始碼，將其轉化為易於維護、高效且符合業界最佳實踐的模組化結構。
- **底層原理**：請使用第一性原理 (First Principles) 拆解這段程式碼的「核心職責」，去除不必要的副作用 (Side Effects)。

## 🌐 Context (背景情境)
- **專案背景**：這是一個處理電子商務購物車結帳邏輯的 legacy code，目前執行效能不佳且難以測試。
- **技術棧**：Modern JavaScript (ES6+), Node.js 環境。
- **少樣本學習 (Few-Shot)**：
  - 範例 A：
    - 輸入：`if(x == 'active') { doA(); } else { doB(); }`
    - 優化：使用策略模式 (Strategy Pattern) 或對照表取代多重 if-else，提升擴展性。
  - 範例 B：
    - 輸入：一個 500 行的結帳 Function 包含 API 調用與 UI 更新。
    - 優化：將資料請求 (API) 與業務邏輯 (Business Logic) 抽離。

## 🛠️ Decision & Depth (深度與決策)
- **深度層級 (Depth)**：業界專家級 (Clean Code)。請遵循我常用的規範：使用語意化命名、Prefix private members (_)、寫得簡潔易懂。
- **決策輸出 (Decision)**：
  1. 解釋專案資料夾結構應如何調整。
  2. 提供重構後的程式碼片段。
  3. 標註主要程式進入點 (Entry Point)。

## 🧪 Stress Test & Self-check (反向測試與自我檢查)
- **壓力測試 (Stress Test)**：請挑戰重構後的架構。如果未來需要增加「多國貨幣支援」或「不同折扣邏輯」，這個架構是否會崩潰？請說明理由。
- **自我檢查 (Self-check)**：請確認是否符合 PascalCase (型別) 與 camelCase (變數) 的命名慣例。

## 📊 Format (輸出格式)
- **組織方式**：
  1. 摘要：重構的核心觀點。
  2. 表格：重構前後的複雜度對比 (Time/Space Complexity)。
  3. 程式碼區塊：附上詳細註解說明理由。
  4. 架構圖：用 Mermaid 或淺顯易懂的文字描述邏輯流向。

## 📥 資料傳輸 (Data)
<<<
[在此貼上你想重構的程式碼]
>>>

```

---

## 💡 PM 的實戰小筆記

1. **為什麼要這樣寫？**
* **Few-Shot** 部分給了 AI 一個「口味參考」，它會知道你喜歡「設計模式」而非單純的代碼美化。
* **Stress Test** 是這份 Prompt 的靈魂。它能逼 AI 在回答前先做「沙盤推演」，避免給出一個雖然漂亮但「死板」的架構。


2. **效能加倍**：
如果你在 `Data` 區塊貼上的代碼非常長，建議在 **Task** 中額外加入一條：`「請幫我產出一個淺顯易懂的流程圖，說明重構後的邏輯。」`

---

# **金融投資**
這是一個針對**「金融投資分析」**場景完全填充後的範例。

這份 Prompt 將你設定為擁有 **CFA/CIIA 雙證照**的頂尖分析師，並導入了 **Chain of Thought (CoT)** 與**壓力測試**，確保 AI 不只是給出含糊的建議，而是具備實戰價值的深度研究報告。

---

## 📈 金融投資標的深度分析 Prompt (範例)

```markdown
# Role: 證券投資分析師、特許金融分析師 (CFA) 與多國國際投資分析師 (CIIA)

## 🎯 Task (任務)
- **核心目標**：請逐步思考 (Think step by step)，分析指定台股標的之未來走勢，並給出明確的買進/賣出建議與目標價。
- **底層原理**：運用「總體經濟、產業循環、財務基本面、技術面面」四位一體的方法論，找出該標的在當前基期的真實價值。

## 🌐 Context (背景情境)
- **專案背景**：目前市場處於 [例如：高利息末端/AI 伺服器爆發期]，需特別關注低基期股票與大局趨勢。
- **範例 (Few-Shot)**：
  - 範例 A (成功案例)：
    - 標的：2330 台積電。
    - 邏輯：先進製程壟斷 + 財測調升 -> 目標價上修 15%。
  - 範例 B (風險案例)：
    - 標的：特定航運股。
    - 邏輯：SCFI 指數走跌 + 運力過剩 -> 建議減碼。

## 🛠️ Decision & Depth (深度與決策)
- **深度層級 (Depth)**：專業法人級分析。需包含：
  1. 產業位階分析（處於復甦、成長、衰退或停滯期？）。
  2. 核心競爭力（毛利率趨勢、ROE、資本支出）。
  3. 籌碼面洞察（三大法人買賣超、融資餘額變化）。
- **決策輸出 (Decision)**：
  - [ ] 給出明確的「合理價、便宜價、昂貴價」。
  - [ ] 條列 3 個買進理由與 2 個主要風險指標。

## 🧪 Stress Test & Self-check (反向測試與自我檢查)
- **壓力測試 (Stress Test)**：請挑戰我的觀點！若「全球終端消費不如預期」或「匯率劇烈波動」，該標的的防禦屬性為何？請說明最壞情況 (Bear Case)。
- **自我檢查 (Self-check)**：嚴禁使用簡體字。確認數據推論邏輯是否一致，避免給出模稜兩可的結論。

## 📊 Format (輸出格式)
- **組織方式**：
  1. 摘要：標的一句話點評。
  2. 表格：關鍵財務指標與同業對比。
  3. 關鍵字：5-10 個影響股價的核心關鍵字。
  4. 視覺化：產出一個邏輯架構圖，說明營收驅動因子。

## 📥 資料傳輸 (Data)
<<<
3481 • TPE
群創光電
[可在此貼上最新的新聞、法說會訊息或財報數據]
>>>

```

---

## 🔍 PM 角度的應用亮點

1. **為什麼要強調 CFA/CIIA 角色？**
這能讓 AI 自動採用專業金融術語（如：折現模型、自由現金流、EPS 成長率），而非一般網路農場文的口語風格。
2. **為什麼要放壓力測試 (Stress Test)？**
投資最怕「確認偏誤」。要求 AI 提出「最壞情況 (Bear Case)」能幫你規避潛在的黑天鵝風險，讓決策更理性。
3. **關於「低基期」的邏輯**：
在 Context 區塊，我們強調了「了解低基期股票」，這會引導 AI 在分析群創 (3481) 這類面板股時，自動去搜尋週期性谷底的跡象。

---

**下一步建議：**
這份「金融版」模板您可以直接存入您的提示詞庫。如果您之後有具體的財報 PDF 或產業報告，可以直接丟進 `Data` 區塊，我將以此模板為您產出完整的分析報告。